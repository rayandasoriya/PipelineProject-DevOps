- job:
    name: iTrust2
    workspace: /home/ubuntu/iTrust/iTrust2/
    builders:
    - maven-target:
        maven-version: mvn
        pom: pom-data.xml
        goals: process-test-classes
    #- maven-target:
    #    maven-version: mvn
    #    pom: /home/vagrant/iTrust/iTrust2/pom.xml
    #    goals: jetty:run
    - maven-target:
        maven-version: mvn
        pom: pom.xml
        goals: clean test verify checkstyle:checkstyle
    #- maven-target:
    #    maven-version: mvn
    #    pom: /home/vagrant/iTrust/iTrust2/pom.xml
    #    goals: jetty:run
    publishers:
      - junit:
         results: "**/target/surefire-reports/*.xml"
         keep-long-stdio: true
         health-scale-factor: 2.0
         allow-empty-results: false
      - jacoco:
          exec-pattern: '**/**.exec'
          class-pattern: '**/classes'
          source-pattern: '**/src/main/java'
          update-build-status: false
    wrappers:
      - timeout:
          type: absolute
          timeout: 15
          timeout-var: 'BUILD_TIMEOUT'
          fail: true   
